From e4872a2c400e30dc2ddbe828b0bdc6657a344ca9 Mon Sep 17 00:00:00 2001
From: anxdpanic <anxdpanic@gmail.com>
Date: Fri, 7 Feb 2020 16:44:38 -0500
Subject: [PATCH] matrix patch

---
 addon.xml                                     |    5 +-
 .../kodion/abstract_provider.py               |   21 +-
 .../kodion/constants/const_settings.py        |    4 +
 .../kodion/impl/abstract_context_ui.py        |    6 +
 .../kodion/impl/abstract_settings.py          |    5 +-
 .../kodion/impl/xbmc/xbmc_context.py          |    1 +
 .../kodion/impl/xbmc/xbmc_context_ui.py       |   13 +
 .../kodion/impl/xbmc/xbmc_runner.py           |    8 +
 .../youtube_plugin/kodion/utils/__init__.py   |    3 +-
 .../kodion/utils/view_manager.py              |  166 +++
 .../youtube_plugin/youtube/helper/utils.py    |    2 +-
 .../youtube/helper/yt_specials.py             |   18 +-
 .../lib/youtube_plugin/youtube/provider.py    |   22 +-
 resources/settings.xml                        | 1141 ++++++++++++++---
 14 files changed, 1239 insertions(+), 176 deletions(-)
 create mode 100644 resources/lib/youtube_plugin/kodion/utils/view_manager.py

diff --git a/addon.xml b/addon.xml
index cd39f4a..d3e9ef9 100644
--- a/addon.xml
+++ b/addon.xml
@@ -3,5 +3,5 @@
     <requires>
-        <import addon="xbmc.python" version="2.20.0"/>
+        <import addon="xbmc.python" version="3.0.0"/>
         <import addon="script.module.six" version="1.11.0"/>
         <import addon="script.module.requests" version="2.12.4"/>
         <import addon="script.module.inputstreamhelper" version="0.2.2" optional="true"/>
@@ -9,7 +9,7 @@
     <extension point="xbmc.python.pluginsource" library="resources/lib/default.py">
         <provides>video</provides>
     </extension>
-    <extension point="xbmc.service" library="resources/lib/startup.py" start="login"/>
+    <extension point="xbmc.service" library="resources/lib/startup.py"/>
     <extension point="xbmc.python.module" library="resources/lib/"/>
     <extension point="xbmc.addon.metadata">
         <news>
@@ -102,3 +102,4 @@
         <disclaimer lang="zh_TW">此附加元件未由Google支持</disclaimer>
     </extension>
 </addon>
+<!-- unofficial -->
diff --git a/resources/lib/youtube_plugin/kodion/abstract_provider.py b/resources/lib/youtube_plugin/kodion/abstract_provider.py
index 7069da6..f49e2e2 100644
--- a/resources/lib/youtube_plugin/kodion/abstract_provider.py
+++ b/resources/lib/youtube_plugin/kodion/abstract_provider.py
@@ -73,10 +73,29 @@ class AbstractProvider(object):
         self._dict_path[re_path] = method_name
 
     def _process_wizard(self, context):
+        def _setup_views(_context, _view):
+            view_manager = utils.ViewManager(_context)
+            if not view_manager.update_view_mode(_context.localize(self._local_map['kodion.wizard.view.%s' % _view]),
+                                                 _view):
+                return
+
+            _context.get_settings().set_bool(constants.setting.VIEW_OVERRIDE, True)
+
         # start the setup wizard
         wizard_steps = []
         if context.get_settings().is_setup_wizard_enabled():
             context.get_settings().set_bool(constants.setting.SETUP_WIZARD, False)
+            if utils.ViewManager(context).has_supported_views():
+                views = self.get_wizard_supported_views()
+                for view in views:
+                    if view in utils.ViewManager.SUPPORTED_VIEWS:
+                        wizard_steps.append((_setup_views, [context, view]))
+                    else:
+                        context.log_warning('[Setup-Wizard] Unsupported view "%s"' % view)
+            else:
+                skin_id = context.get_ui().get_skin_id()
+                context.log("ViewManager: Unknown skin id '%s'" % skin_id)
+
             wizard_steps.extend(self.get_wizard_steps(context))
 
         if wizard_steps and context.get_ui().on_yes_no_input(context.get_name(),
@@ -279,7 +298,7 @@ class AbstractProvider(object):
                 query = query.decode('utf-8')
             return self.on_search(query, context, re_match)
         else:
-            context.set_content_type(constants.content_type.FILES)
+            context.set_content_type(constants.content_type.VIDEOS)
             result = []
 
             location = str(context.get_param('location', False)).lower() == 'true'
diff --git a/resources/lib/youtube_plugin/kodion/constants/const_settings.py b/resources/lib/youtube_plugin/kodion/constants/const_settings.py
index dfeeace..e797928 100644
--- a/resources/lib/youtube_plugin/kodion/constants/const_settings.py
+++ b/resources/lib/youtube_plugin/kodion/constants/const_settings.py
@@ -35,6 +35,10 @@ HIDE_SHORT_VIDEOS = 'youtube.hide_shorts'  # (bool)
 SUPPORT_ALTERNATIVE_PLAYER = 'kodion.support.alternative_player'  # (bool)
 ALTERNATIVE_PLAYER_WEB_URLS = 'kodion.alternative_player.web.urls'  # (bool)
 
+VIEW_OVERRIDE = 'kodion.view.override'  # (bool)
+VIEW_DEFAULT = 'kodion.view.default'  # (int)
+VIEW_X = 'kodion.view.%s'  # (int)
+
 ALLOW_DEV_KEYS = 'youtube.allow.dev.keys'  # (bool)
 
 DASH_VIDEOS = 'kodion.mpd.videos'  # (bool)
diff --git a/resources/lib/youtube_plugin/kodion/impl/abstract_context_ui.py b/resources/lib/youtube_plugin/kodion/impl/abstract_context_ui.py
index 7ed3fef..46eabf2 100644
--- a/resources/lib/youtube_plugin/kodion/impl/abstract_context_ui.py
+++ b/resources/lib/youtube_plugin/kodion/impl/abstract_context_ui.py
@@ -16,6 +16,12 @@ class AbstractContextUI(object):
     def create_progress_dialog(self, heading, text=None, background=False):
         raise NotImplementedError()
 
+    def set_view_mode(self, view_mode):
+        raise NotImplementedError()
+
+    def get_view_mode(self):
+        raise NotImplementedError()
+
     def get_skin_id(self):
         raise NotImplementedError()
 
diff --git a/resources/lib/youtube_plugin/kodion/impl/abstract_settings.py b/resources/lib/youtube_plugin/kodion/impl/abstract_settings.py
index 1a6e82c..591bec4 100644
--- a/resources/lib/youtube_plugin/kodion/impl/abstract_settings.py
+++ b/resources/lib/youtube_plugin/kodion/impl/abstract_settings.py
@@ -63,7 +63,7 @@ class AbstractSettings(object):
         return value == 'true'
 
     def get_items_per_page(self):
-        return self.get_int(constants.setting.ITEMS_PER_PAGE, 50, lambda x: (x + 1) * 5)
+        return self.get_int(constants.setting.ITEMS_PER_PAGE, 50)
 
     def get_video_quality(self, quality_map_override=None):
         vq_dict = {0: 240,
@@ -90,6 +90,9 @@ class AbstractSettings(object):
     def is_setup_wizard_enabled(self):
         return self.get_bool(constants.setting.SETUP_WIZARD, False)
 
+    def is_override_view_enabled(self):
+        return self.get_bool(constants.setting.VIEW_OVERRIDE, False)
+
     def is_support_alternative_player_enabled(self):
         return self.get_bool(constants.setting.SUPPORT_ALTERNATIVE_PLAYER, False)
 
diff --git a/resources/lib/youtube_plugin/kodion/impl/xbmc/xbmc_context.py b/resources/lib/youtube_plugin/kodion/impl/xbmc/xbmc_context.py
index 6542331..fc98931 100644
--- a/resources/lib/youtube_plugin/kodion/impl/xbmc/xbmc_context.py
+++ b/resources/lib/youtube_plugin/kodion/impl/xbmc/xbmc_context.py
@@ -208,6 +208,7 @@ class XbmcContext(AbstractContext):
     def set_content_type(self, content_type):
         self.log_debug('Setting content-type: "%s" for "%s"' % (content_type, self.get_path()))
         xbmcplugin.setContent(self._plugin_handle, content_type)
+        self.get_ui().set_view_mode(content_type)
 
     def add_sort_method(self, *sort_methods):
         for sort_method in sort_methods:
diff --git a/resources/lib/youtube_plugin/kodion/impl/xbmc/xbmc_context_ui.py b/resources/lib/youtube_plugin/kodion/impl/xbmc/xbmc_context_ui.py
index 49c9507..6aece7b 100644
--- a/resources/lib/youtube_plugin/kodion/impl/xbmc/xbmc_context_ui.py
+++ b/resources/lib/youtube_plugin/kodion/impl/xbmc/xbmc_context_ui.py
@@ -9,6 +9,7 @@
 """
 
 from six import PY3
+from six import string_types
 
 import xbmc
 import xbmcgui
@@ -35,6 +36,18 @@ class XbmcContextUI(AbstractContextUI):
 
         return XbmcProgressDialog(heading, text)
 
+    def set_view_mode(self, view_mode):
+        if isinstance(view_mode, string_types):
+            view_mode = self._context.get_settings().get_int(constants.setting.VIEW_X % view_mode, self._context.get_settings().get_int(constants.setting.VIEW_DEFAULT, 50))
+
+        self._view_mode = view_mode
+
+    def get_view_mode(self):
+        if self._view_mode is not None:
+            return self._view_mode
+
+        return self._context.get_settings().get_int(constants.setting.VIEW_DEFAULT, 50)
+
     def get_skin_id(self):
         return xbmc.getSkinDir()
 
diff --git a/resources/lib/youtube_plugin/kodion/impl/xbmc/xbmc_runner.py b/resources/lib/youtube_plugin/kodion/impl/xbmc/xbmc_runner.py
index e050639..3ee89b8 100644
--- a/resources/lib/youtube_plugin/kodion/impl/xbmc/xbmc_runner.py
+++ b/resources/lib/youtube_plugin/kodion/impl/xbmc/xbmc_runner.py
@@ -8,6 +8,7 @@
     See LICENSES/GPL-2.0-only for more information.
 """
 
+import xbmc
 import xbmcgui
 import xbmcplugin
 
@@ -66,6 +67,13 @@ class XbmcRunner(AbstractProviderRunner):
                 self.handle, succeeded=True,
                 updateListing=options.get(AbstractProvider.RESULT_UPDATE_LISTING, False),
                 cacheToDisc=options.get(AbstractProvider.RESULT_CACHE_TO_DISC, True))
+
+            # set alternative view mode
+            if context.get_settings().is_override_view_enabled():
+                view_mode = context.get_ui().get_view_mode()
+                if view_mode is not None:
+                    context.log_debug('Override view mode to "%d"' % view_mode)
+                    xbmc.executebuiltin('Container.SetViewMode(%d)' % view_mode)
         else:
             # handle exception
             pass
diff --git a/resources/lib/youtube_plugin/kodion/utils/__init__.py b/resources/lib/youtube_plugin/kodion/utils/__init__.py
index 20e9597..4c279f9 100644
--- a/resources/lib/youtube_plugin/kodion/utils/__init__.py
+++ b/resources/lib/youtube_plugin/kodion/utils/__init__.py
@@ -16,6 +16,7 @@ from .favorite_list import FavoriteList
 from .watch_later_list import WatchLaterList
 from .function_cache import FunctionCache
 from .access_manager import AccessManager
+from .view_manager import ViewManager
 from .http_server import get_http_server, is_httpd_live, get_client_ip_address
 from .monitor import YouTubeMonitor
 from .player import YouTubePlayer
@@ -25,7 +26,7 @@ from .system_version import SystemVersion
 from . import ip_api
 
 
-__all__ = ['SearchHistory', 'FavoriteList', 'WatchLaterList', 'FunctionCache', 'AccessManager',
+__all__ = ['SearchHistory', 'FavoriteList', 'WatchLaterList', 'FunctionCache', 'AccessManager', 'ViewManager',
            'strip_html_from_text', 'create_path', 'create_uri_path', 'find_best_fit', 'to_unicode', 'to_utf8',
            'datetime_parser', 'select_stream', 'get_http_server', 'is_httpd_live', 'YouTubeMonitor',
            'make_dirs', 'loose_version', 'ip_api', 'PlaybackHistory', 'DataCache', 'get_client_ip_address',
diff --git a/resources/lib/youtube_plugin/kodion/utils/view_manager.py b/resources/lib/youtube_plugin/kodion/utils/view_manager.py
new file mode 100644
index 0000000..9a5fe5a
--- /dev/null
+++ b/resources/lib/youtube_plugin/kodion/utils/view_manager.py
@@ -0,0 +1,166 @@
+# -*- coding: utf-8 -*-
+"""
+
+    Copyright (C) 2014-2016 bromix (plugin.video.youtube)
+    Copyright (C) 2016-2018 plugin.video.youtube
+
+    SPDX-License-Identifier: GPL-2.0-only
+    See LICENSES/GPL-2.0-only for more information.
+"""
+
+from .. import constants
+
+
+class ViewManager(object):
+    SUPPORTED_VIEWS = ['default', 'movies', 'tvshows', 'episodes', 'musicvideos', 'songs', 'albums', 'artists']
+    SKIN_DATA = {
+        'skin.confluence': {
+            'default': [
+                {'name': 'List', 'id': 50},
+                {'name': 'Big List', 'id': 51},
+                {'name': 'Thumbnail', 'id': 500}
+            ],
+            'movies': [
+                {'name': 'List', 'id': 50},
+                {'name': 'Big List', 'id': 51},
+                {'name': 'Thumbnail', 'id': 500},
+                {'name': 'Media info', 'id': 504},
+                {'name': 'Media info 2', 'id': 503}
+            ],
+            'episodes': [
+                {'name': 'List', 'id': 50},
+                {'name': 'Big List', 'id': 51},
+                {'name': 'Thumbnail', 'id': 500},
+                {'name': 'Media info', 'id': 504},
+                {'name': 'Media info 2', 'id': 503}
+            ],
+            'tvshows': [
+                {'name': 'List', 'id': 50},
+                {'name': 'Big List', 'id': 51},
+                {'name': 'Thumbnail', 'id': 500},
+                {'name': 'Poster', 'id': 500},
+                {'name': 'Wide', 'id': 505},
+                {'name': 'Media info', 'id': 504},
+                {'name': 'Media info 2', 'id': 503},
+                {'name': 'Fanart', 'id': 508}
+            ],
+            'musicvideos': [
+                {'name': 'List', 'id': 50},
+                {'name': 'Big List', 'id': 51},
+                {'name': 'Thumbnail', 'id': 500},
+                {'name': 'Media info', 'id': 504},
+                {'name': 'Media info 2', 'id': 503}
+            ],
+            'songs': [
+                {'name': 'List', 'id': 50},
+                {'name': 'Big List', 'id': 51},
+                {'name': 'Thumbnail', 'id': 500},
+                {'name': 'Media info', 'id': 506}
+            ],
+            'albums': [
+                {'name': 'List', 'id': 50},
+                {'name': 'Big List', 'id': 51},
+                {'name': 'Thumbnail', 'id': 500},
+                {'name': 'Media info', 'id': 506}
+            ],
+            'artists': [
+                {'name': 'List', 'id': 50},
+                {'name': 'Big List', 'id': 51},
+                {'name': 'Thumbnail', 'id': 500},
+                {'name': 'Media info', 'id': 506}
+            ]
+        },
+        'skin.aeon.nox.5': {
+            'default': [
+                {'name': 'List', 'id': 50},
+                {'name': 'Episodes', 'id': 502},
+                {'name': 'LowList', 'id': 501},
+                {'name': 'BannerWall', 'id': 58},
+                {'name': 'Shift', 'id': 57},
+                {'name': 'Posters', 'id': 56},
+                {'name': 'ShowCase', 'id': 53},
+                {'name': 'Landscape', 'id': 52},
+                {'name': 'InfoWall', 'id': 51}
+            ]
+        },
+        'skin.xperience1080+': {
+            'default': [
+                {'name': 'List', 'id': 50},
+                {'name': 'Thumbnail', 'id': 500},
+            ],
+            'episodes': [
+                {'name': 'List', 'id': 50},
+                {'name': 'Info list', 'id': 52},
+                {'name': 'Fanart', 'id': 502},
+                {'name': 'Landscape', 'id': 54},
+                {'name': 'Poster', 'id': 55},
+                {'name': 'Thumbnail', 'id': 500},
+                {'name': 'Banner', 'id': 60}
+            ],
+        },
+        'skin.xperience1080': {
+            'default': [
+                {'name': 'List', 'id': 50},
+                {'name': 'Thumbnail', 'id': 500},
+            ],
+            'episodes': [
+                {'name': 'List', 'id': 50},
+                {'name': 'Info list', 'id': 52},
+                {'name': 'Fanart', 'id': 502},
+                {'name': 'Landscape', 'id': 54},
+                {'name': 'Poster', 'id': 55},
+                {'name': 'Thumbnail', 'id': 500},
+                {'name': 'Banner', 'id': 60}
+            ],
+        },
+        'skin.estuary': {
+            'default': [
+                {'name': 'Shift', 'id': 53},
+                {'name': 'InfoWall', 'id': 54},
+                {'name': 'Wall', 'id': 500},
+                {'name': 'WideList', 'id': 55},
+            ],
+            'episodes': [
+                {'name': 'InfoWall', 'id': 54},
+                {'name': 'Wall', 'id': 500},
+                {'name': 'WideList', 'id': 55},
+            ]
+        }
+    }
+
+    def __init__(self, context):
+        self._context = context
+
+    def has_supported_views(self):
+        """
+        Returns True if the View of the current skin are supported
+        :return: True if the View of the current skin are supported
+        """
+        return self._context.get_ui().get_skin_id() in self.SKIN_DATA
+
+    def update_view_mode(self, title, view='default'):
+        view_id = -1
+        settings = self._context.get_settings()
+
+        skin_id = self._context.get_ui().get_skin_id()
+        skin_data = self.SKIN_DATA.get(skin_id, {}).get(view, [])
+        if skin_data:
+            items = []
+            for view_data in skin_data:
+                items.append((view_data['name'], view_data['id']))
+            view_id = self._context.get_ui().on_select(title, items)
+        else:
+            self._context.log_notice("ViewManager: Unknown skin id '%s'" % skin_id)
+
+        if view_id == -1:
+            old_value = settings.get_string(constants.setting.VIEW_X % view, '')
+            if old_value:
+                result, view_id = self._context.get_ui().on_numeric_input(title, old_value)
+                if not result:
+                    view_id = -1
+
+        if view_id > -1:
+            settings.set_int(constants.setting.VIEW_X % view, view_id)
+            return True
+
+        return False
diff --git a/resources/lib/youtube_plugin/youtube/helper/utils.py b/resources/lib/youtube_plugin/youtube/helper/utils.py
index 88a7fb7..5fc6e37 100644
--- a/resources/lib/youtube_plugin/youtube/helper/utils.py
+++ b/resources/lib/youtube_plugin/youtube/helper/utils.py
@@ -258,7 +258,7 @@ def update_video_infos(provider, context, video_id_dict, playlist_item_id_dict=N
         video_item = video_id_dict[video_id]
 
         # set mediatype
-        video_item.set_mediatype('video')  # using video
+        video_item.set_mediatype('episode')  # using video
 
         if not yt_item:
             continue
diff --git a/resources/lib/youtube_plugin/youtube/helper/yt_specials.py b/resources/lib/youtube_plugin/youtube/helper/yt_specials.py
index 89ad2b1..c5c8fec 100644
--- a/resources/lib/youtube_plugin/youtube/helper/yt_specials.py
+++ b/resources/lib/youtube_plugin/youtube/helper/yt_specials.py
@@ -15,7 +15,7 @@ from . import utils
 
 
 def _process_related_videos(provider, context):
-    provider.set_content_type(context, kodion.constants.content_type.VIDEOS)
+    provider.set_content_type(context, kodion.constants.content_type.EPISODES)
     result = []
 
     page_token = context.get_param('page_token', '')
@@ -60,7 +60,7 @@ def _process_child_comments(provider, context):
 
 
 def _process_recommendations(provider, context):
-    provider.set_content_type(context, kodion.constants.content_type.VIDEOS)
+    provider.set_content_type(context, kodion.constants.content_type.EPISODES)
     result = []
 
     page_token = context.get_param('page_token', '')
@@ -72,7 +72,7 @@ def _process_recommendations(provider, context):
 
 
 def _process_popular_right_now(provider, context):
-    provider.set_content_type(context, kodion.constants.content_type.VIDEOS)
+    provider.set_content_type(context, kodion.constants.content_type.EPISODES)
     result = []
 
     page_token = context.get_param('page_token', '')
@@ -85,7 +85,7 @@ def _process_popular_right_now(provider, context):
 
 
 def _process_browse_channels(provider, context):
-    provider.set_content_type(context, kodion.constants.content_type.FILES)
+    provider.set_content_type(context, kodion.constants.content_type.VIDEOS)
     result = []
 
     # page_token = context.get_param('page_token', '')
@@ -107,7 +107,7 @@ def _process_browse_channels(provider, context):
 
 
 def _process_disliked_videos(provider, context):
-    provider.set_content_type(context, kodion.constants.content_type.VIDEOS)
+    provider.set_content_type(context, kodion.constants.content_type.EPISODES)
     result = []
 
     page_token = context.get_param('page_token', '')
@@ -122,7 +122,7 @@ def _process_live_events(provider, context, event_type='live'):
     def _sort(x):
         return x.get_aired()
 
-    provider.set_content_type(context, kodion.constants.content_type.VIDEOS)
+    provider.set_content_type(context, kodion.constants.content_type.EPISODES)
     result = []
 
     # TODO: cache result
@@ -142,7 +142,7 @@ def _process_description_links(provider, context):
     addon_id = context.get_param('addon_id', '')
 
     def _extract_urls(_video_id):
-        provider.set_content_type(context, kodion.constants.content_type.VIDEOS)
+        provider.set_content_type(context, kodion.constants.content_type.EPISODES)
         url_resolver = UrlResolver(context)
 
         result = []
@@ -304,7 +304,7 @@ def _process_purchases_tv(provider, context):
 
 
 def _process_new_uploaded_videos_tv(provider, context):
-    provider.set_content_type(context, kodion.constants.content_type.VIDEOS)
+    provider.set_content_type(context, kodion.constants.content_type.EPISODES)
 
     result = []
     next_page_token = context.get_param('next_page_token', '')
@@ -316,7 +316,7 @@ def _process_new_uploaded_videos_tv(provider, context):
 
 
 def _process_new_uploaded_videos_tv_filtered(provider, context):
-    provider.set_content_type(context, kodion.constants.content_type.VIDEOS)
+    provider.set_content_type(context, kodion.constants.content_type.EPISODES)
 
     result = []
     next_page_token = context.get_param('next_page_token', '')
diff --git a/resources/lib/youtube_plugin/youtube/provider.py b/resources/lib/youtube_plugin/youtube/provider.py
index fea2957..75c6780 100644
--- a/resources/lib/youtube_plugin/youtube/provider.py
+++ b/resources/lib/youtube_plugin/youtube/provider.py
@@ -437,7 +437,7 @@ class Provider(kodion.AbstractProvider):
 
     @kodion.RegisterProviderPath('^/playlist/(?P<playlist_id>[^/]+)/$')
     def _on_playlist(self, context, re_match):
-        self.set_content_type(context, kodion.constants.content_type.VIDEOS)
+        self.set_content_type(context, kodion.constants.content_type.EPISODES)
 
         result = []
 
@@ -461,7 +461,7 @@ class Provider(kodion.AbstractProvider):
 
     @kodion.RegisterProviderPath('^/channel/(?P<channel_id>[^/]+)/playlist/(?P<playlist_id>[^/]+)/$')
     def _on_channel_playlist(self, context, re_match):
-        self.set_content_type(context, kodion.constants.content_type.VIDEOS)
+        self.set_content_type(context, kodion.constants.content_type.EPISODES)
         client = self.get_client(context)
         result = []
 
@@ -484,7 +484,7 @@ class Provider(kodion.AbstractProvider):
 
     @kodion.RegisterProviderPath('^/channel/(?P<channel_id>[^/]+)/playlists/$')
     def _on_channel_playlists(self, context, re_match):
-        self.set_content_type(context, kodion.constants.content_type.FILES)
+        self.set_content_type(context, kodion.constants.content_type.VIDEOS)
         result = []
 
         channel_id = re_match.group('channel_id')
@@ -525,7 +525,7 @@ class Provider(kodion.AbstractProvider):
 
     @kodion.RegisterProviderPath('^/channel/(?P<channel_id>[^/]+)/live/$')
     def _on_channel_live(self, context, re_match):
-        self.set_content_type(context, kodion.constants.content_type.VIDEOS)
+        self.set_content_type(context, kodion.constants.content_type.EPISODES)
         result = []
 
         channel_id = re_match.group('channel_id')
@@ -560,7 +560,7 @@ class Provider(kodion.AbstractProvider):
         if method == 'channel' and not channel_id:
             return False
 
-        self.set_content_type(context, kodion.constants.content_type.VIDEOS)
+        self.set_content_type(context, kodion.constants.content_type.EPISODES)
 
         resource_manager = self.get_resource_manager(context)
 
@@ -648,7 +648,7 @@ class Provider(kodion.AbstractProvider):
     # noinspection PyUnusedLocal
     @kodion.RegisterProviderPath('^/location/mine/$')
     def _on_my_location(self, context, re_match):
-        self.set_content_type(context, kodion.constants.content_type.FILES)
+        self.set_content_type(context, kodion.constants.content_type.VIDEOS)
 
         settings = context.get_settings()
         result = list()
@@ -793,7 +793,7 @@ class Provider(kodion.AbstractProvider):
         subscriptions = yt_subscriptions.process(method, self, context)
 
         if method == 'list':
-            self.set_content_type(context, kodion.constants.content_type.FILES)
+            self.set_content_type(context, kodion.constants.content_type.VIDEOS)
             channel_ids = []
             for subscription in subscriptions:
                 channel_ids.append(subscription.get_channel_id())
@@ -1025,9 +1025,9 @@ class Provider(kodion.AbstractProvider):
         context.set_param('q', search_text)
 
         if search_type == 'video':
-            self.set_content_type(context, kodion.constants.content_type.VIDEOS)
+            self.set_content_type(context, kodion.constants.content_type.EPISODES)
         else:
-            self.set_content_type(context, kodion.constants.content_type.FILES)
+            self.set_content_type(context, kodion.constants.content_type.VIDEOS)
 
         if page == 1 and search_type == 'video' and not event_type and not hide_folders:
             if not channel_id and not location:
@@ -1361,7 +1361,7 @@ class Provider(kodion.AbstractProvider):
         settings = context.get_settings()
         _ = self.get_client(context)  # required for self.is_logged_in()
 
-        self.set_content_type(context, kodion.constants.content_type.FILES)
+        self.set_content_type(context, kodion.constants.content_type.VIDEOS)
 
         result = []
 
@@ -1596,7 +1596,7 @@ class Provider(kodion.AbstractProvider):
     @staticmethod
     def set_content_type(context, content_type):
         context.set_content_type(content_type)
-        if content_type == kodion.constants.content_type.VIDEOS:
+        if content_type == kodion.constants.content_type.EPISODES:
             context.add_sort_method(kodion.constants.sort_method.UNSORTED,
                                     kodion.constants.sort_method.VIDEO_RUNTIME,
                                     kodion.constants.sort_method.DATE_ADDED,
diff --git a/resources/settings.xml b/resources/settings.xml
index dd1d769..736c92d 100644
--- a/resources/settings.xml
+++ b/resources/settings.xml
@@ -1,151 +1,992 @@
-<?xml version="1.0" encoding="utf-8" standalone="yes"?>
-<settings>
-
-    <!-- kodion General -->
-    <category label="30000">
-        <setting id="kodion.video.quality" type="enum" label="30010" enable="eq(2,false)" lvalues="30016|30017|30011|30012|30018" default="3"/>
-        <setting id="kodion.audio_only" type="bool" label="30607" enable="eq(1,false)" default="false"/>
-        <setting id="kodion.video.quality.ask" type="bool" label="30009" default="false"/>
-        <setting id="kodion.subtitle.configure" type="action" label="30600" enable="true" visible="true" option="close" action="RunPlugin(plugin://$ID/config/subtitles/)"/>
-        <setting id="kodion.subtitle.languages.num" type="number" default="0" visible="false"/>
-        <setting id="kodion.subtitle.download" type="bool" default="false" visible="false"/>
-        <setting id="youtube.suggested_videos" type="bool" label="30582" default="false"/>
-        <setting id="youtube.hide_shorts" type="bool" label="30736" default="false"/>
-        <setting id="kodion.play_count.percent" type="slider" label="30668" enable="true" default="85" range="1,1,99" option="int"/>
-        <setting id="youtube.playlist.watchlater.autoremove" type="bool" label="30515" default="true"/>
-        <setting id="youtube.post.play.rate" type="bool" label="30627" default="false"/>
-        <setting id="youtube.post.play.rate.playlists" type="bool" label="30712" default="false" subsetting="true" enable="eq(-1,true)"/>
-        <setting id="youtube.post.play.refresh" type="bool" label="30645" default="false"/>
-        <setting type="sep"/>
-        <setting id="kodion.thumbnail.size" type="enum" label="30591" lvalues="30592|30593" default="1"/>
-        <setting id="kodion.fanart.show" type="bool" label="30021" default="true"/>
-        <setting id="youtube.channel.fanart.show" type="bool" label="30503" enable="eq(-1,true)" default="true"/>
-        <setting id="kodion.content.max_per_page" type="enum" label="30022" values="5|10|15|20|25|30|35|40|45|50" default="9"/>
-        <setting label="30023" type="slider" id="kodion.search.size" default="10" range="0,10,200" option="int"/>
-        <setting id="kodion.safe.search" type="enum" label="30594" lvalues="30595|30561|30596" default="0"/>
-        <setting id="kodion.age.gate" type="bool" label="30603" default="true"/>
-    </category>
-
-    <!-- mpeg-dash -->
-    <category label="30617">
-        <setting id="kodion.video.quality.mpd" type="bool" label="30007" default="false" enable="System.HasAddon(inputstream.adaptive)"/>
-        <setting id="kodion.video.quality.mpd.configure" type="action" label="30008" enable="eq(-1,true)" option="close" action="RunPlugin(plugin://$ID/config/mpd/)"/>
-        <setting type="lsep" label="30723"/>
-        <setting id="kodion.mpd.videos" type="bool" label="30688" default="true" enable="eq(-3,true)"/>
-        <setting id="kodion.mpd.quality.selection" type="enum" label="30010" default="8" lvalues="30016|30017|30011|30012|30013|30725|30014|30015|30727|30728" enable="eq(-1,true)" subsetting="true"/>
-        <setting id="kodion.mpd.hdr" type="bool" label="30722" default="false" enable="eq(-2,true)+!eq(-1,8)" subsetting="true"/>
-        <setting id="kodion.mpd.limit.30" type="bool" label="30724" default="false" enable="eq(-3,true)+eq(-1,false)+!eq(-2,8)+!eq(-2,9)" subsetting="true"/>
-        <setting type="lsep" label="30690"/>
-        <setting id="kodion.mpd.live_streams" type="bool" label="30689" default="true" enable="eq(-8,true)"/>
-        <setting type="sep"/>
-        <setting id="kodion.install.inputstreamhelper" type="action" label="30623" action="RunPlugin(plugin://$ID/maintain/inputstreamhelper/install/)" enable="eq(-10,true)"/>
-    </category>
-
-    <!-- folders -->
-    <category label="30516">
-        <setting id="youtube.folder.sign.in.show" type="bool" label="30111" default="true"/>
-        <setting id="youtube.folder.my_subscriptions.show" type="bool" label="30510" default="true"/>
-        <setting id="youtube.folder.my_subscriptions_filtered.show" type="bool" label="30584" default="false"/>
-        <setting id="youtube.filter.my_subscriptions_filtered.blacklist" type="bool" label="30586" default="false"
-                 enable="eq(-1,true)" visible="eq(-1,true)" subsetting="true"/>
-        <setting id="youtube.filter.my_subscriptions_filtered.list" type="text" label="30585" enable="eq(-2,true)"
-                 visible="eq(-2,true)" default="" subsetting="true"/>
-        <setting id="youtube.folder.recommendations.show" type="bool" label="30551" default="true"/>
-        <setting id="youtube.folder.popular_right_now.show" type="bool" label="30513" default="true"/>
-        <setting id="youtube.folder.search.show" type="bool" label="30102" default="true"/>
-        <setting id="youtube.folder.quick_search.show" type="bool" label="30605" default="false"/>
-        <setting id="youtube.folder.quick_search_incognito.show" type="bool" label="30606" default="false"/>
-        <setting id="youtube.folder.my_location.show" type="bool" label="30654" default="true"/>
-        <setting id="youtube.folder.my_channel.show" type="bool" label="30507" default="true"/>
-        <setting id="youtube.folder.purchases.show" type="bool" label="30622" default="true" visible="false"/>
-        <setting id="youtube.folder.watch_later.show" type="bool" label="30107" default="true"/>
-        <setting id="youtube.folder.watch_later.playlist" type="text" label="30037" enable="eq(-1,true)"
-                 visible="eq(-1,true)" default="" subsetting="true"/>
-        <setting id="youtube.folder.liked_videos.show" type="bool" label="30508" default="true"/>
-        <setting id="youtube.folder.disliked_videos.show" type="bool" label="30538" default="true"/>
-        <setting id="youtube.folder.history.show" type="bool" label="30509" default="true"/>
-        <setting id="youtube.folder.history.playlist" type="text" label="30038" enable="eq(-1,true)"
-                 visible="eq(-1,true)" default="" subsetting="true"/>
-        <setting id="youtube.folder.playlists.show" type="bool" label="30501" default="true"/>
-        <setting id="youtube.folder.saved.playlists.show" type="bool" label="30611" default="true" visible="false"/>
-        <setting id="youtube.folder.subscriptions.show" type="bool" label="30504" default="true"/>
-        <setting id="youtube.folder.browse_channels.show" type="bool" label="30512" default="true"/>
-        <setting id="youtube.folder.completed.live.show" type="bool" label="30647" default="true"/>
-        <setting id="youtube.folder.upcoming.live.show" type="bool" label="30646" default="true"/>
-        <setting id="youtube.folder.live.show" type="bool" label="30539" default="true"/>
-        <setting id="youtube.folder.switch.user.show" type="bool" label="30655" default="true"/>
-        <setting id="youtube.folder.sign.out.show" type="bool" label="30112" default="true"/>
-        <setting id="youtube.folder.settings.show" type="bool" label="30577" default="true"/>
-    </category>
-
-    <!-- users -->
-    <category label="30660">
-        <setting id="kodion.users.add" type="action" label="30661" action="RunPlugin(plugin://$ID/users/add/?refresh=false)"/>
-        <setting id="kodion.users.remove" type="action" label="30662" action="RunPlugin(plugin://$ID/users/remove/?refresh=false)"/>
-        <setting id="kodion.users.rename" type="action" label="30663" action="RunPlugin(plugin://$ID/users/rename/?refresh=false)"/>
-        <setting id="kodion.users.switch" type="action" label="30664" action="RunPlugin(plugin://$ID/users/switch/?refresh=false)"/>
-    </category>
-
-    <!-- advanced -->
-    <category label="30031">
-        <setting id="simple.requests.ssl.verify" type="bool" label="30578" default="true"/>
-        <setting id="kodion.support.alternative_player" type="bool" label="30036" default="false"/>
-        <setting id="kodion.alternative_player.web.urls" type="bool" label="30704" default="false" subsetting="true" enable="eq(-1,true)"/>
-        <setting id="youtube.view.description.show_channel_name" type="bool" label="30541" default="true"/>
-        <setting type="sep"/>
-        <setting id="kodion.playback.history" type="bool" label="30675" default="false"/>
-        <setting type="sep"/>
-        <setting id="kodion.cache.size" type="slider" label="30024" default="10" range="5,1,100" option="int"/>
-        <setting id="kodion.setup_wizard" type="bool" label="30025" default="true"/>
-        <setting type="sep"/>
-        <setting id="youtube.language" type="text" label="30523" enable="false" default="en-US"/>
-        <setting id="youtube.region" type="text" label="30550" enable="false" default="US"/>
-        <setting id="youtube.location" type="text" label="30651" enable="true" default=""/>
-        <setting id="youtube.location.radius" type="slider" label="30652" enable="true" default="500" range="1,1,1000" option="int"/>
-    </category>
-
-    <!-- http server -->
-    <category label="30628">
-        <setting id="kodion.http.listen" type="ipaddress" label="30643" default="0.0.0.0" enable="true"/>
-        <setting id="kodion.http.listen.select" type="action" label="30644" action="RunPlugin(plugin://$ID/config/listen_ip/)" option="close"/>
-        <setting id="kodion.mpd.proxy.port" type="number" label="30619" default="50152" enable="true"/>
-        <setting id="kodion.http.ip.whitelist" type="text" label="30629" enable="true"/>
-        <setting id="kodion.http.client.ip" type="action" label="30698" action="RunPlugin(plugin://$ID/show_client_ip/)"/>
-    </category>
-
-    <!-- personal api key -->
-    <category label="30200">
-        <setting id="youtube.api.key" type="text" label="30201" default=""/>
-        <setting id="youtube.api.id" type="text" label="30202" default=""/>
-        <setting id="youtube.api.secret" type="text" label="30203" default=""/>
-        <setting id="youtube.allow.dev.keys" type="bool" label="30608" default="true"/>
-        <setting id="youtube.api.config.address" type="lsep" label="30633" visible="eq(1,true)"/>
-        <setting id="youtube.api.config.page" type="bool" label="30632" default="false"/>
-    </category>
-
-    <!-- Maintenance -->
-    <category label="30552">
-        <setting id="kodion.maintain.clear.func" type="action" label="30555" action="RunPlugin(plugin://$ID/maintain/function_cache/clear/)"/>
-        <setting id="kodion.maintain.clear.data" type="action" label="30686" action="RunPlugin(plugin://$ID/maintain/data_cache/clear/)"/>
-        <setting id="kodion.maintain.clear.search" type="action" label="30556" action="RunPlugin(plugin://$ID/maintain/search_cache/clear/)"/>
-        <setting id="kodion.maintain.clear.playback.history" type="action" label="30671" action="RunPlugin(plugin://$ID/maintain/playback_history/clear/)"/>
-        <setting type="sep"/>
-        <setting id="kodion.maintain.delete.func" type="action" label="30553" action="RunPlugin(plugin://$ID/maintain/function_cache/delete/)"/>
-        <setting id="kodion.maintain.delete.data" type="action" label="30685" action="RunPlugin(plugin://$ID/maintain/data_cache/delete/)"/>
-        <setting id="kodion.maintain.delete.search" type="action" label="30554" action="RunPlugin(plugin://$ID/maintain/search_cache/delete/)"/>
-        <setting id="kodion.maintain.delete.playback.history" type="action" label="30672" action="RunPlugin(plugin://$ID/maintain/playback_history/delete/)"/>
-        <setting type="sep"/>
-        <setting id="kodion.maintain.reset.accessmanager" type="action" label="30580" action="RunPlugin(plugin://$ID/maintain/access_manager/reset/)" option="close"/>
-        <setting type="sep"/>
-        <setting id="kodion.maintain.delete.settings" type="action" label="30559" option="close" action="RunPlugin(plugin://$ID/maintain/settings_xml/delete/)"/>
-        <setting id="kodion.maintain.delete.api_keys" type="action" label="30641" action="RunPlugin(plugin://$ID/maintain/api_keys/delete/)"/>
-        <setting id="kodion.maintain.delete.access_manager" type="action" label="30642" action="RunPlugin(plugin://$ID/maintain/access_manager/delete/)"/>
-        <setting id="kodion.maintain.delete.temp" type="action" label="30626" action="RunPlugin(plugin://$ID/maintain/temp_files/delete/)"/>
-        <!-- Placeholders for deprecated settings, to be removed in a future version -->
-        <setting id="kodion.access_token" type="text" label="" default="" visible="false"/>
-        <setting id="kodion.refresh_token" type="text" label="" default="" visible="false"/>
-        <setting id="kodion.access_token.expires" type="number" label="" default="" visible="false"/>
-        <setting id="youtube.api.last.hash" type="text" label="" default="" visible="false"/>
-    </category>
-
+<?xml version="1.0" ?>
+<settings version="1">
+    <section id="plugin.video.youtube">
+        <category help="" id="general" label="30000">
+            <group id="1">
+                <setting help="" id="kodion.video.quality" label="30010" type="integer">
+                    <level>0</level>
+                    <default>3</default>
+                    <constraints>
+                        <options>
+                            <option label="30016">0</option>
+                            <option label="30017">1</option>
+                            <option label="30011">2</option>
+                            <option label="30012">3</option>
+                            <option label="30018">4</option>
+                        </options>
+                    </constraints>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition operator="is" setting="kodion.video.quality.ask">false</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="string" type="spinner"/>
+                </setting>
+                <setting help="" id="kodion.audio_only" label="30607" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition operator="is" setting="kodion.video.quality.ask">false</condition>
+                        </dependency>
+                    </dependencies>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="kodion.video.quality.ask" label="30009" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="kodion.subtitle.configure" label="30600" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/config/subtitles/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition name="InfoBool" on="property">true</condition>
+                        </dependency>
+                        <dependency type="visible">
+                            <condition name="InfoBool" on="property">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="action" type="button">
+                        <close>true</close>
+                    </control>
+                </setting>
+                <setting help="" id="kodion.subtitle.languages.num" type="integer">
+                    <level>0</level>
+                    <default>0</default>
+                    <dependencies>
+                        <dependency type="visible">
+                            <condition name="InfoBool" on="property">false</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="integer" type="edit">
+                        <heading/>
+                    </control>
+                </setting>
+                <setting help="" id="kodion.subtitle.download" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <dependencies>
+                        <dependency type="visible">
+                            <condition name="InfoBool" on="property">false</condition>
+                        </dependency>
+                    </dependencies>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.suggested_videos" label="30582" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.hide_shorts" label="30736" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="kodion.play_count.percent" label="30668" type="integer">
+                    <level>0</level>
+                    <default>85</default>
+                    <constraints>
+                        <minimum>1</minimum>
+                        <step>1</step>
+                        <maximum>99</maximum>
+                    </constraints>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition name="InfoBool" on="property">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="integer" type="slider">
+                        <popup>false</popup>
+                    </control>
+                </setting>
+                <setting help="" id="youtube.playlist.watchlater.autoremove" label="30515" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.post.play.rate" label="30627" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.post.play.rate.playlists" label="30712" parent="youtube.post.play.rate" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition operator="is" setting="youtube.post.play.rate">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.post.play.refresh" label="30645" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <control type="toggle"/>
+                </setting>
+            </group>
+            <group id="2">
+                <setting help="" id="kodion.thumbnail.size" label="30591" type="integer">
+                    <level>0</level>
+                    <default>1</default>
+                    <constraints>
+                        <options>
+                            <option label="30592">0</option>
+                            <option label="30593">1</option>
+                        </options>
+                    </constraints>
+                    <control format="string" type="spinner"/>
+                </setting>
+                <setting help="" id="kodion.fanart.show" label="30021" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.channel.fanart.show" label="30503" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition operator="is" setting="kodion.fanart.show">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="kodion.content.max_per_page" label="30022" type="integer">
+                    <level>0</level>
+                    <default>50</default>
+                    <constraints>
+                        <minimum>5</minimum>
+                        <step>5</step>
+                        <maximum>50</maximum>
+                    </constraints>
+                    <control format="integer" type="slider">
+                        <popup>false</popup>
+                    </control>
+                </setting>
+                <setting help="" id="kodion.search.size" label="30023" type="integer">
+                    <level>0</level>
+                    <default>10</default>
+                    <constraints>
+                        <minimum>0</minimum>
+                        <step>10</step>
+                        <maximum>200</maximum>
+                    </constraints>
+                    <control format="integer" type="slider">
+                        <popup>false</popup>
+                    </control>
+                </setting>
+                <setting help="" id="kodion.safe.search" label="30594" type="integer">
+                    <level>0</level>
+                    <default>0</default>
+                    <constraints>
+                        <options>
+                            <option label="30595">0</option>
+                            <option label="30561">1</option>
+                            <option label="30596">2</option>
+                        </options>
+                    </constraints>
+                    <control format="string" type="spinner"/>
+                </setting>
+                <setting help="" id="kodion.age.gate" label="30603" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+            </group>
+        </category>
+        <category help="" id="mpeg-dash" label="30617">
+            <group id="1">
+                <setting help="" id="kodion.video.quality.mpd" label="30007" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition name="InfoBool" on="property">System.HasAddon(inputstream.adaptive)</condition>
+                        </dependency>
+                    </dependencies>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="kodion.video.quality.mpd.configure" label="30008" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/config/mpd/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition operator="is" setting="kodion.video.quality.mpd">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="action" type="button">
+                        <close>true</close>
+                    </control>
+                </setting>
+            </group>
+            <group id="2" label="30723">
+                <setting help="" id="kodion.mpd.videos" label="30688" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition operator="is" setting="kodion.video.quality.mpd">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="kodion.mpd.quality.selection" label="30010" parent="kodion.mpd.videos" type="integer">
+                    <level>0</level>
+                    <default>8</default>
+                    <constraints>
+                        <options>
+                            <option label="30016">0</option>
+                            <option label="30017">1</option>
+                            <option label="30011">2</option>
+                            <option label="30012">3</option>
+                            <option label="30013">4</option>
+                            <option label="30725">5</option>
+                            <option label="30014">6</option>
+                            <option label="30015">7</option>
+                            <option label="30727">8</option>
+                            <option label="30728">9</option>
+                        </options>
+                    </constraints>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition operator="is" setting="kodion.mpd.videos">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="string" type="spinner"/>
+                </setting>
+                <setting help="" id="kodion.mpd.hdr" label="30722" parent="kodion.mpd.quality.selection" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <dependencies>
+                        <dependency type="enable">
+                            <and>
+                                <condition operator="is" setting="kodion.mpd.videos">true</condition>
+                                <condition operator="!is" setting="kodion.mpd.quality.selection">8</condition>
+                            </and>
+                        </dependency>
+                    </dependencies>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="kodion.mpd.limit.30" label="30724" parent="kodion.mpd.hdr" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <dependencies>
+                        <dependency type="enable">
+                            <and>
+                                <condition operator="is" setting="kodion.mpd.videos">true</condition>
+                                <condition operator="is" setting="kodion.mpd.hdr">false</condition>
+                                <condition operator="!is" setting="kodion.mpd.quality.selection">8</condition>
+                                <condition operator="!is" setting="kodion.mpd.quality.selection">9</condition>
+                            </and>
+                        </dependency>
+                    </dependencies>
+                    <control type="toggle"/>
+                </setting>
+            </group>
+            <group id="3" label="30690">
+                <setting help="" id="kodion.mpd.live_streams" label="30689" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition operator="is" setting="kodion.video.quality.mpd">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control type="toggle"/>
+                </setting>
+            </group>
+            <group id="4">
+                <setting help="" id="kodion.install.inputstreamhelper" label="30623" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/maintain/inputstreamhelper/install/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition operator="is" setting="kodion.video.quality.mpd">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="action" type="button"/>
+                </setting>
+            </group>
+        </category>
+        <category help="" id="folders" label="30516">
+            <group id="1">
+                <setting help="" id="youtube.folder.sign.in.show" label="30111" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.my_subscriptions.show" label="30510" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.my_subscriptions_filtered.show" label="30584" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.filter.my_subscriptions_filtered.blacklist" label="30586" parent="youtube.folder.my_subscriptions_filtered.show" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition operator="is" setting="youtube.folder.my_subscriptions_filtered.show">true</condition>
+                        </dependency>
+                        <dependency type="visible">
+                            <condition operator="is" setting="youtube.folder.my_subscriptions_filtered.show">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.filter.my_subscriptions_filtered.list" label="30585" parent="youtube.filter.my_subscriptions_filtered.blacklist" type="string">
+                    <level>0</level>
+                    <default/>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition operator="is" setting="youtube.folder.my_subscriptions_filtered.show">true</condition>
+                        </dependency>
+                        <dependency type="visible">
+                            <condition operator="is" setting="youtube.folder.my_subscriptions_filtered.show">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="string" type="edit">
+                        <heading>30585</heading>
+                    </control>
+                </setting>
+                <setting help="" id="youtube.folder.recommendations.show" label="30551" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.popular_right_now.show" label="30513" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.search.show" label="30102" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.quick_search.show" label="30605" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.quick_search_incognito.show" label="30606" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.my_location.show" label="30654" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.my_channel.show" label="30507" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.purchases.show" label="30622" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <dependencies>
+                        <dependency type="visible">
+                            <condition name="InfoBool" on="property">false</condition>
+                        </dependency>
+                    </dependencies>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.watch_later.show" label="30107" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.watch_later.playlist" label="30037" parent="youtube.folder.watch_later.show" type="string">
+                    <level>0</level>
+                    <default/>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition operator="is" setting="youtube.folder.watch_later.show">true</condition>
+                        </dependency>
+                        <dependency type="visible">
+                            <condition operator="is" setting="youtube.folder.watch_later.show">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="string" type="edit">
+                        <heading>30037</heading>
+                    </control>
+                </setting>
+                <setting help="" id="youtube.folder.liked_videos.show" label="30508" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.disliked_videos.show" label="30538" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.history.show" label="30509" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.history.playlist" label="30038" parent="youtube.folder.history.show" type="string">
+                    <level>0</level>
+                    <default/>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition operator="is" setting="youtube.folder.history.show">true</condition>
+                        </dependency>
+                        <dependency type="visible">
+                            <condition operator="is" setting="youtube.folder.history.show">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="string" type="edit">
+                        <heading>30038</heading>
+                    </control>
+                </setting>
+                <setting help="" id="youtube.folder.playlists.show" label="30501" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.saved.playlists.show" label="30611" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <dependencies>
+                        <dependency type="visible">
+                            <condition name="InfoBool" on="property">false</condition>
+                        </dependency>
+                    </dependencies>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.subscriptions.show" label="30504" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.browse_channels.show" label="30512" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.completed.live.show" label="30647" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.upcoming.live.show" label="30646" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.live.show" label="30539" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.switch.user.show" label="30655" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.sign.out.show" label="30112" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.folder.settings.show" label="30577" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+            </group>
+        </category>
+        <category help="" id="users" label="30660">
+            <group id="1">
+                <setting help="" id="kodion.users.add" label="30661" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/users/add/?refresh=false)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button"/>
+                </setting>
+                <setting help="" id="kodion.users.remove" label="30662" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/users/remove/?refresh=false)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button"/>
+                </setting>
+                <setting help="" id="kodion.users.rename" label="30663" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/users/rename/?refresh=false)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button"/>
+                </setting>
+                <setting help="" id="kodion.users.switch" label="30664" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/users/switch/?refresh=false)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button"/>
+                </setting>
+            </group>
+        </category>
+        <category help="" id="advanced" label="30031">
+            <group id="1">
+                <setting help="" id="simple.requests.ssl.verify" label="30578" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="kodion.support.alternative_player" label="30036" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="kodion.alternative_player.web.urls" label="30704" parent="kodion.support.alternative_player" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition operator="is" setting="kodion.support.alternative_player">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="youtube.view.description.show_channel_name" label="30541" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+            </group>
+            <group id="2">
+                <setting help="" id="kodion.playback.history" label="30675" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <control type="toggle"/>
+                </setting>
+            </group>
+            <group id="3">
+                <setting help="" id="kodion.view.override" label="30026" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <control type="toggle"/>
+                </setting>
+                <setting help="" id="kodion.view.default" label="30027" type="integer">
+                    <level>0</level>
+                    <default>50</default>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition operator="is" setting="kodion.view.override">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="integer" type="edit">
+                        <heading>30027</heading>
+                    </control>
+                </setting>
+                <setting help="" id="kodion.view.episodes" label="30028" type="integer">
+                    <level>0</level>
+                    <default>50</default>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition operator="is" setting="kodion.view.override">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="integer" type="edit">
+                        <heading>30028</heading>
+                    </control>
+                </setting>
+            </group>
+            <group id="4">
+                <setting help="" id="kodion.cache.size" label="30024" type="integer">
+                    <level>0</level>
+                    <default>10</default>
+                    <constraints>
+                        <minimum>5</minimum>
+                        <step>1</step>
+                        <maximum>100</maximum>
+                    </constraints>
+                    <control format="integer" type="slider">
+                        <popup>false</popup>
+                    </control>
+                </setting>
+                <setting help="" id="kodion.setup_wizard" label="30025" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+            </group>
+            <group id="5">
+                <setting help="" id="youtube.language" label="30523" type="string">
+                    <level>0</level>
+                    <default>en-US</default>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition name="InfoBool" on="property">false</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="string" type="edit">
+                        <heading>30523</heading>
+                    </control>
+                </setting>
+                <setting help="" id="youtube.region" label="30550" type="string">
+                    <level>0</level>
+                    <default>US</default>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition name="InfoBool" on="property">false</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="string" type="edit">
+                        <heading>30550</heading>
+                    </control>
+                </setting>
+                <setting help="" id="youtube.location" label="30651" type="string">
+                    <level>0</level>
+                    <default/>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition name="InfoBool" on="property">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="string" type="edit">
+                        <heading>30651</heading>
+                    </control>
+                </setting>
+                <setting help="" id="youtube.location.radius" label="30652" type="integer">
+                    <level>0</level>
+                    <default>500</default>
+                    <constraints>
+                        <minimum>1</minimum>
+                        <step>1</step>
+                        <maximum>1000</maximum>
+                    </constraints>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition name="InfoBool" on="property">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="integer" type="slider">
+                        <popup>false</popup>
+                    </control>
+                </setting>
+            </group>
+        </category>
+        <category help="" id="http server" label="30628">
+            <group id="1">
+                <setting help="" id="kodion.http.listen" label="30643" type="string">
+                    <level>0</level>
+                    <default>0.0.0.0</default>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition name="InfoBool" on="property">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="ip" type="edit">
+                        <heading>30643</heading>
+                    </control>
+                </setting>
+                <setting help="" id="kodion.http.listen.select" label="30644" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/config/listen_ip/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button">
+                        <close>true</close>
+                    </control>
+                </setting>
+                <setting help="" id="kodion.mpd.proxy.port" label="30619" type="integer">
+                    <level>0</level>
+                    <default>50152</default>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition name="InfoBool" on="property">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="integer" type="edit">
+                        <heading>30619</heading>
+                    </control>
+                </setting>
+                <setting help="" id="kodion.http.ip.whitelist" label="30629" type="string">
+                    <level>0</level>
+                    <default/>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <dependencies>
+                        <dependency type="enable">
+                            <condition name="InfoBool" on="property">true</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="string" type="edit">
+                        <heading>30629</heading>
+                    </control>
+                </setting>
+                <setting help="" id="kodion.http.client.ip" label="30698" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/show_client_ip/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button"/>
+                </setting>
+            </group>
+        </category>
+        <category help="" id="api" label="30200">
+            <group id="1">
+                <setting help="" id="youtube.api.key" label="30201" type="string">
+                    <level>0</level>
+                    <default/>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="string" type="edit">
+                        <heading>30201</heading>
+                    </control>
+                </setting>
+                <setting help="" id="youtube.api.id" label="30202" type="string">
+                    <level>0</level>
+                    <default/>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="string" type="edit">
+                        <heading>30202</heading>
+                    </control>
+                </setting>
+                <setting help="" id="youtube.api.secret" label="30203" type="string">
+                    <level>0</level>
+                    <default/>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="string" type="edit">
+                        <heading>30203</heading>
+                    </control>
+                </setting>
+                <setting help="" id="youtube.allow.dev.keys" label="30608" type="boolean">
+                    <level>0</level>
+                    <default>true</default>
+                    <control type="toggle"/>
+                </setting>
+            </group>
+            <group id="2" label="30633">
+                <setting help="" id="youtube.api.config.page" label="30632" type="boolean">
+                    <level>0</level>
+                    <default>false</default>
+                    <control type="toggle"/>
+                </setting>
+            </group>
+        </category>
+        <category help="" id="maintenance" label="30552">
+            <group id="1">
+                <setting help="" id="kodion.maintain.clear.func" label="30555" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/maintain/function_cache/clear/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button"/>
+                </setting>
+                <setting help="" id="kodion.maintain.clear.data" label="30686" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/maintain/data_cache/clear/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button"/>
+                </setting>
+                <setting help="" id="kodion.maintain.clear.search" label="30556" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/maintain/search_cache/clear/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button"/>
+                </setting>
+                <setting help="" id="kodion.maintain.clear.playback.history" label="30671" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/maintain/playback_history/clear/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button"/>
+                </setting>
+            </group>
+            <group id="2">
+                <setting help="" id="kodion.maintain.delete.func" label="30553" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/maintain/function_cache/delete/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button"/>
+                </setting>
+                <setting help="" id="kodion.maintain.delete.data" label="30685" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/maintain/data_cache/delete/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button"/>
+                </setting>
+                <setting help="" id="kodion.maintain.delete.search" label="30554" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/maintain/search_cache/delete/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button"/>
+                </setting>
+                <setting help="" id="kodion.maintain.delete.playback.history" label="30672" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/maintain/playback_history/delete/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button"/>
+                </setting>
+            </group>
+            <group id="3">
+                <setting help="" id="kodion.maintain.reset.accessmanager" label="30580" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/maintain/access_manager/reset/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button">
+                        <close>true</close>
+                    </control>
+                </setting>
+            </group>
+            <group id="4">
+                <setting help="" id="kodion.maintain.delete.settings" label="30559" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/maintain/settings_xml/delete/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button">
+                        <close>true</close>
+                    </control>
+                </setting>
+                <setting help="" id="kodion.maintain.delete.api_keys" label="30641" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/maintain/api_keys/delete/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button"/>
+                </setting>
+                <setting help="" id="kodion.maintain.delete.access_manager" label="30642" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/maintain/access_manager/delete/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button"/>
+                </setting>
+                <setting help="" id="kodion.maintain.delete.temp" label="30626" type="action">
+                    <level>0</level>
+                    <data>RunPlugin(plugin://plugin.video.youtube/maintain/temp_files/delete/)</data>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <control format="action" type="button"/>
+                </setting>
+                <setting help="" id="kodion.access_token" label="" type="string">
+                    <level>0</level>
+                    <default/>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <dependencies>
+                        <dependency type="visible">
+                            <condition name="InfoBool" on="property">false</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="string" type="edit">
+                        <heading/>
+                    </control>
+                </setting>
+                <setting help="" id="kodion.refresh_token" label="" type="string">
+                    <level>0</level>
+                    <default/>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <dependencies>
+                        <dependency type="visible">
+                            <condition name="InfoBool" on="property">false</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="string" type="edit">
+                        <heading/>
+                    </control>
+                </setting>
+                <setting help="" id="kodion.access_token.expires" label="" type="integer">
+                    <level>0</level>
+                    <default>0</default>
+                    <dependencies>
+                        <dependency type="visible">
+                            <condition name="InfoBool" on="property">false</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="integer" type="edit">
+                        <heading/>
+                    </control>
+                </setting>
+                <setting help="" id="youtube.api.last.hash" label="" type="string">
+                    <level>0</level>
+                    <default/>
+                    <constraints>
+                        <allowempty>true</allowempty>
+                    </constraints>
+                    <dependencies>
+                        <dependency type="visible">
+                            <condition name="InfoBool" on="property">false</condition>
+                        </dependency>
+                    </dependencies>
+                    <control format="string" type="edit">
+                        <heading/>
+                    </control>
+                </setting>
+            </group>
+        </category>
+    </section>
 </settings>
-- 
2.33.0.windows.2

